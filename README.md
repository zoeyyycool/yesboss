# Boss直聘AI智能客服岗位爬虫工具

一个专门用于Boss直聘AI智能客服岗位信息获取的爬虫工具，支持多种配置生成方式，已优化反爬虫机制。

## 🚀 主要功能

✅ **智能配置生成** - 三种方式生成搜索配置，告别手动编码  
✅ **反爬虫优化** - 模拟真实用户浏览行为，降低被封风险  
✅ **灵活筛选条件** - 支持薪资、经验、学历、公司规模等筛选  
✅ **多种输出格式** - JSON/CSV/TXT格式，满足不同需求  
✅ **自动去重过滤** - 智能过滤重复、猎头和无效职位  
✅ **工作年限提取** - 自动提取职位的工作年限要求  
✅ **简洁中文输入** - 支持"10-20k"、"3-5年"等直观输入

## 📁 项目结构

### 核心工具
- **boss_zhipin.py** - 主爬虫工具（已优化反爬虫）
- **config_generator.py** - 交互式配置生成器
- **quick_config.py** - 快速命令行配置生成器  
- **template_config.py** - 模板配置生成器

### 配置文件
- **batch_config.json** - 搜索配置文件

### 最终数据
- **jobs_广州AI智能客服_最终整合.json** - 广州55个AI智能客服职位
- **jobs_杭州AI智能客服_最终整合.json** - 杭州66个AI智能客服职位

### 文档
- **README.md** - 项目说明文档
- **配置生成器使用说明.md** - 配置生成器详细使用说明

## 🎯 快速开始

### 1. 环境准备
```bash
# 安装依赖
pip install playwright pydantic

# 安装浏览器
playwright install chromium
```

### 2. 首次使用
```bash
# 运行爬虫工具，首次会自动打开登录页面
python3 boss_zhipin.py
```
浏览器会自动打开，微信扫码登录即可，登录状态会自动保存。

### 3. 生成配置（三选一）

#### 🔥 方式一：快速生成（推荐）
```bash
# 搜索AI客服岗位
python3 quick_config.py "AI客服@广州,15-30k,3-5年,本科"

# 搜索智能客服岗位
python3 quick_config.py "智能客服@杭州,10-20k,1-3年,本科"
```

#### 💡 方式二：交互式生成（新手友好）
```bash
python3 config_generator.py
```

#### 🎨 方式三：模板生成
```bash
python3 template_config.py ai_customer_service 广州,杭州
```

### 4. 执行搜索
```bash
# 使用配置文件搜索
python3 -c "
import asyncio
from boss_zhipin import BossZhipin

async def main():
    boss = BossZhipin()
    jobs = []
    async for job in boss.query_jobs_from_config('batch_config.json'):
        jobs.append(job)
        print(f'找到职位: {job.model_dump()[\"title\"]} - {job.model_dump()[\"company\"]}')
    
    BossZhipin.save_jobs(jobs, 'jobs_result.json', format='json')
    print(f'搜索完成，共找到 {len(jobs)} 个职位')

asyncio.run(main())
"
```

## 🎨 支持的输入格式

### 城市
```
北京、上海、广州、深圳、杭州、成都、武汉、西安...
```

### 薪资
```
3-5k、5-10k、10-20k、20-50k、50k以上
```

### 经验
```
1年内、1-3年、3-5年、5-10年、10年以上
```

### 学历
```
大专、本科、硕士
```

### 公司规模 🆕
```
0-20人、20-99人、100-499人、500-999人、1000-9999人、10000人以上
```

## 📊 项目成果

本项目已成功爬取并整合了两个城市的AI智能客服岗位数据：

### 广州AI智能客服岗位 (55个)
- 文件：`jobs_广州AI智能客服_最终整合.json`
- 工作年限分布：1-3年(8个)，3-5年(26个)，5-10年(16个)，10年以上(2个)，不限(3个)
- 已过滤实习生岗位和猎头职位

### 杭州AI智能客服岗位 (66个)  
- 文件：`jobs_杭州AI智能客服_最终整合.json`
- 已过滤实习生岗位和猎头职位
- 包含完整的职位信息和工作年限要求

### 数据字段说明
```json
{
  "company": "公司名称",
  "title": "职位名称", 
  "salary": "薪资范围",
  "experience": "工作年限要求",
  "desc": "职位描述",
  "url": "职位详情链接",
  "city": "工作城市"
}
```

## 🔧 反爬虫优化

本工具已实现多层反爬虫优化：

- **页面浏览延迟** - 模拟用户查看页面的停留时间
- **滚动加载延迟** - 模拟用户浏览职位列表的时间  
- **详情页停留** - 模拟用户阅读职位详情（2-5秒随机）
- **随机鼠标移动** - 模拟真实用户的鼠标活动
- **点击前思考** - 模拟用户选择职位的思考时间
- **猎头过滤** - 自动过滤猎头公司发布的职位

## ⚠️ 使用注意事项

1. **首次使用**：运行时会自动打开登录页面，微信扫码登录
2. **登录状态**：登录信息保存在 `cookies.json`（已在.gitignore中排除）
3. **合理使用**：工具已优化延迟，请避免过于频繁使用
4. **数据准确性**：所有数据均从Boss直聘真实爬取，无虚拟数据
5. **遵守条款**：请遵守Boss直聘的使用条款和robots.txt

## 🛠️ 技术栈

- **Python 3.7+** - 主要编程语言
- **Playwright** - 浏览器自动化框架
- **Pydantic** - 数据验证和序列化
- **正则表达式** - 工作年限提取
- **异步编程** - 提高爬取效率

## 📈 输出格式

### JSON格式（默认）
```json
[
  {
    "company": "某科技公司",
    "title": "AI客服产品经理", 
    "salary": "15-25K",
    "experience": "3-5年",
    "city": "广州",
    "desc": "负责AI客服产品的需求分析、功能设计...",
    "url": "https://www.zhipin.com/job_detail/..."
  }
]
```

### CSV格式（Excel可打开）
可直接用Excel打开进行数据分析和筛选。

### TXT格式（可读性最佳）
格式化的文本输出，便于阅读和打印。

## 🎯 适用场景

- **AI客服求职者** - 专门搜索AI智能客服相关职位
- **HR和招聘** - 了解AI客服岗位市场行情
- **数据分析师** - AI客服行业薪资和需求分析  
- **产品经理** - 了解AI客服产品发展趋势

## 🆕 更新日志

- **v3.0** - 专注AI智能客服岗位，优化反爬虫，添加工作年限提取
- **v2.0** - 新增配置生成器，支持公司规模筛选
- **v1.0** - 基础批量搜索功能

## 📞 获取帮助

如果遇到问题或有功能建议：
1. 查看 `配置生成器使用说明.md` 了解详细使用方法
2. 检查是否正确安装了依赖：`playwright` 和 `pydantic`
3. 确保已安装浏览器：`playwright install chromium`

## � 许可证

本项目仅供学习和研究使用，请遵守相关法律法规和网站使用条款。

